<div>
  <h2>Create one playlist</h2>
  <form [formGroup]="createForm" (ngSubmit)="submit()">
    <input
      type="text"
      pInputText
      placeholder="Name"
      [style.margin-right]="'1rem'"
      formControlName="name"
    />
    <input
      type="text"
      pInputText
      placeholder="Description"
      formControlName="description"
    />
    <p>Search music and add it to your new playlist</p>
    <input
      type="text"
      pInputText
      placeholder="Search"
      [(ngModel)]="search"
      [ngModelOptions]="{ standalone: true }"
    />
    <button type="button" (click)="searchTracks()">Search</button>
    <ul *ngIf="tracks$ | async">
      <li
        *ngFor="let track of tracks$ | async"
        (click)="setCurrentTrackToAudioPlayer(track.uri)"
      >
        {{ track.name }}
        <button
          type="button"
          (click)="
            editTracksToAddToNewPlaylist($event, {
              name: track.name,
              uri: track.uri
            })
          "
        >
          {{
            checkIfTrackIsIncludes({ name: track.name, uri: track.uri })
              ? "Remove"
              : "Add"
          }}
        </button>
      </li>
    </ul>
    <div *ngIf="tracksToAddToNewPlaylist.length">
      <span *ngFor="let track of tracksToAddToNewPlaylist">{{
        track.name
      }}</span>
    </div>
    <div>
      <button type="submit">Create playlist</button>
    </div>
  </form>
</div>
